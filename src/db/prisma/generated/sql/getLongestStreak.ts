
/* !!! This is code generated by Prisma. Do not edit directly. !!! */
/* eslint-disable */
// biome-ignore-all lint: generated file
// @ts-nocheck 
import * as $runtime from "@prisma/client/runtime/client"

/**
 * @param userId
 */
export const getLongestStreak = $runtime.makeTypedQueryFactory("WITH Gaps AS (\nSELECT\niotd_id,\nCASE\nWHEN LAG(iotd_id) OVER (ORDER BY iotd_id) = iotd_id - 1 THEN 0\nELSE 1\nEND AS is_start\nFROM result\nWHERE user_id = :userId AND win = 1\n),\nGroups AS (\nSELECT\nSUM(is_start) OVER (ORDER BY iotd_id) AS group_id\nFROM Gaps\n)\nSELECT COUNT(*) AS streak\nFROM Groups\nGROUP BY group_id\nORDER BY streak DESC\nLIMIT 1;") as (userId: string) => $runtime.TypedSql<getLongestStreak.Parameters, getLongestStreak.Result>

export namespace getLongestStreak {
  export type Parameters = [userId: string]
  export type Result = {
    streak: null | null
  }
}
